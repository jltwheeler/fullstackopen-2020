{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notifications.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Filter","onTextChange","searchText","onChange","value","PersonForm","addPerson","name","number","onNameChange","onNumberChange","onSubmit","type","Person","onDeleteClick","key","onClick","Persons","persons","map","person","Notification","alert","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchText","showAll","setShowAll","setAlert","useEffect","personService","peopleToShow","filter","toLowerCase","indexOf","event","target","preventDefault","includes","window","confirm","updatedPerson","catch","error","setTimeout","concat","resp","ReactDOM","render","document","querySelector"],"mappings":"8MAEMA,EAAU,cAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB9B,EAfA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa9B,EAVM,SAACG,GAEpB,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQ9B,EALA,SAACG,EAAIF,GAElB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAACC,GAAD,OAAcA,EAASC,SCX9BM,EARA,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,WAC9B,OACE,kDACoB,2BAAOC,SAAUF,EAAcG,MAAOF,MCmB/CG,EAtBI,SAAC,GAMb,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,KACAC,EAGI,EAHJA,OACAC,EAEI,EAFJA,aACAC,EACI,EADJA,eAEA,OACE,0BAAMC,SAAUL,GACd,sCACQ,2BAAOH,SAAUM,EAAcL,MAAOG,KAE9C,wCACU,2BAAOJ,SAAUO,EAAgBN,MAAOI,KAElD,6BACE,4BAAQI,KAAK,UAAb,UCDOC,EAfA,SAAC,GAAyC,IAAvChB,EAAsC,EAAtCA,GAAIU,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,OAAQM,EAAoB,EAApBA,cAClC,OACE,uBAAGC,IAAKR,GACLA,EADH,IACUC,EAAQ,IAChB,4BACEQ,QAAS,WACPF,EAAcjB,EAAIU,KAFtB,YCWSU,EAdC,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,QAASJ,EAAoB,EAApBA,cAC1B,OAAOI,EAAQC,KAAI,SAACC,GAClB,OACE,kBAAC,EAAD,CACEL,IAAKK,EAAOb,KACZA,KAAMa,EAAOb,KACbC,OAAQY,EAAOZ,OACfX,GAAIuB,EAAOvB,GACXiB,cAAeA,QCuBRO,EAhCM,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAqBtB,OAAsB,OAAlBA,EAAMC,QACD,KAGU,UAAfD,EAAMV,KACD,yBAAKY,MAzBK,CACjBC,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KAkBkBT,EAAMC,SACd,YAAfD,EAAMV,KACR,yBAAKY,MAjBO,CACnBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KAUoBT,EAAMC,cADnC,GC6FMS,EAlHH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTf,EADS,KACAgB,EADA,OAEcD,mBAAS,IAFvB,mBAETE,EAFS,KAEAC,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTI,EAHS,KAGEC,EAHF,OAIoBL,mBAAS,IAJ7B,mBAIT/B,EAJS,KAIGqC,EAJH,OAKcN,oBAAS,GALvB,mBAKTO,EALS,KAKAC,EALA,OAMUR,mBAAS,CAAEV,QAAS,KAAMX,KAAM,OAN1C,mBAMTU,EANS,KAMFoB,EANE,KAQhBC,qBAAU,WACRC,IAAuBpD,MAAK,SAACE,GAAD,OAAUwC,EAAWxC,QAChD,IAEH,IAAMmD,EAAeL,EACjBtB,EACAA,EAAQ4B,QACN,SAAC1B,GAAD,OACEA,EAAOb,KAAKwC,cAAcC,QAAQ9C,EAAW6C,gBAAkB,KA+EvE,OACE,6BACE,yCACA,kBAAC,EAAD,CAAczB,MAAOA,IACrB,kBAAC,EAAD,CAAQrB,aAhFe,SAACgD,GAC1BR,GAAW,GACXF,EAAcU,EAAMC,OAAO9C,QA8EiBF,WAAYA,IACtD,yCACA,kBAAC,EAAD,CACEI,UAtDY,SAAC2C,GAIf,IARiB1C,EAOnB,GAFA0C,EAAME,iBAEFjC,EAAQC,KAAI,SAACC,GAAD,OAAYA,EAAOb,QAAM6C,SAASjB,IAKhD,GAJekB,OAAOC,QAAP,UACVnB,EADU,2EAIH,CACV,IAAMoB,EAAgB,CAAEhD,KAAM4B,EAAS3B,OAAQ6B,GACzCxC,GAdSU,EAcQ4B,EAbpBjB,EAAQ4B,QAAO,SAAC1B,GAAD,OAAYA,EAAOb,OAASA,KAAM,GAAGV,IAcvD+C,EACU/C,EAAI0D,GACX/D,MAAK,SAACE,GAAD,OACJwC,EACEhB,EAAQC,KAAI,SAACC,GAAD,OAAaA,EAAOvB,KAAOH,EAAKG,GAAKuB,EAAS1B,SAG7D8D,OAAM,SAACC,GACNf,EAAS,CACPnB,QAAQ,kBAAD,OAAoBY,EAApB,yCACPvB,KAAM,UAERsB,EAAWhB,EAAQ4B,QAAO,SAAC1B,GAAD,OAAYA,EAAOvB,KAAOA,MACpD6D,YAAW,WACThB,EAAS,CAAEnB,QAAS,KAAMX,KAAM,SAC/B,cAMTgC,EAFkB,CAAErC,KAAM4B,EAAS3B,OAAQ6B,IAIxC7C,MAAK,SAACE,GAAD,OAAUwC,EAAWhB,EAAQyC,OAAOjE,OAE5CgD,EAAS,CAAEnB,QAAQ,SAAD,OAAWY,GAAWvB,KAAM,YAE9C8C,YAAW,WACThB,EAAS,CAAEnB,QAAS,KAAMX,KAAM,SAC/B,KAEHwB,EAAW,IACXE,EAAa,KAYX/B,KAAM4B,EACN3B,OAAQ6B,EACR5B,aAjFmB,SAACwC,GACxBb,EAAWa,EAAMC,OAAO9C,QAiFpBM,eA9EqB,SAACuC,GAC1BX,EAAaW,EAAMC,OAAO9C,UA+ExB,uCACA,kBAAC,EAAD,CAASc,QAAS2B,EAAc/B,cA7EV,SAACjB,EAAIU,GACd8C,OAAOC,QAAP,iBAAyB/C,EAAzB,QAGbqC,EACgB/C,GACbL,MAAK,SAACoE,GAAD,OACJ1B,EAAWhB,EAAQ4B,QAAO,SAAC1B,GAAD,OAAYA,EAAOvB,KAAOA,cC1C9DgE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,cAAc,Y","file":"static/js/main.f38bacf9.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, deletePerson, update };\n","import React from \"react\";\n\nconst Filter = ({ onTextChange, searchText }) => {\n  return (\n    <div>\n      filter show with: <input onChange={onTextChange} value={searchText} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  name,\n  number,\n  onNameChange,\n  onNumberChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input onChange={onNameChange} value={name} />\n      </div>\n      <div>\n        number: <input onChange={onNumberChange} value={number} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = ({ id, name, number, onDeleteClick }) => {\n  return (\n    <p key={name}>\n      {name} {number}{\" \"}\n      <button\n        onClick={() => {\n          onDeleteClick(id, name);\n        }}\n      >\n        Delete\n      </button>\n    </p>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ persons, onDeleteClick }) => {\n  return persons.map((person) => {\n    return (\n      <Person\n        key={person.name}\n        name={person.name}\n        number={person.number}\n        id={person.id}\n        onDeleteClick={onDeleteClick}\n      />\n    );\n  });\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ alert }) => {\n  const errorStyle = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  const successStyle = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  if (alert.message === null) {\n    return null;\n  }\n\n  if (alert.type === \"error\") {\n    return <div style={errorStyle}>{alert.message}</div>;\n  } else if (alert.type === \"success\") {\n    return <div style={successStyle}>{alert.message}</div>;\n  }\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\n\nimport personService from \"./services/persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notifications\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n  const [showAll, setShowAll] = useState(true);\n  const [alert, setAlert] = useState({ message: null, type: null });\n\n  useEffect(() => {\n    personService.getAll().then((data) => setPersons(data));\n  }, []);\n\n  const peopleToShow = showAll\n    ? persons\n    : persons.filter(\n        (person) =>\n          person.name.toLowerCase().indexOf(searchText.toLowerCase()) > -1\n      );\n\n  const handleSearchChange = (event) => {\n    setShowAll(false);\n    setSearchText(event.target.value);\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleDeleteClick = (id, name) => {\n    const result = window.confirm(`Delete ${name} ?`);\n\n    if (result) {\n      personService\n        .deletePerson(id)\n        .then((resp) =>\n          setPersons(persons.filter((person) => person.id !== id))\n        );\n    }\n  };\n\n  const getPersonId = (name) => {\n    return persons.filter((person) => person.name === name)[0].id;\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    if (persons.map((person) => person.name).includes(newName)) {\n      const result = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n\n      if (result) {\n        const updatedPerson = { name: newName, number: newNumber };\n        const id = getPersonId(newName);\n        personService\n          .update(id, updatedPerson)\n          .then((data) =>\n            setPersons(\n              persons.map((person) => (person.id !== data.id ? person : data))\n            )\n          )\n          .catch((error) => {\n            setAlert({\n              message: `Information of ${newName} has already been removed from server`,\n              type: \"error\",\n            });\n            setPersons(persons.filter((person) => person.id !== id));\n            setTimeout(() => {\n              setAlert({ message: null, type: null });\n            }, 2000);\n          });\n      }\n    } else {\n      const newPerson = { name: newName, number: newNumber };\n\n      personService\n        .create(newPerson)\n        .then((data) => setPersons(persons.concat(data)));\n\n      setAlert({ message: `Added ${newName}`, type: \"success\" });\n\n      setTimeout(() => {\n        setAlert({ message: null, type: null });\n      }, 2000);\n\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification alert={alert} />\n      <Filter onTextChange={handleSearchChange} searchText={searchText} />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        name={newName}\n        number={newNumber}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={peopleToShow} onDeleteClick={handleDeleteClick} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}